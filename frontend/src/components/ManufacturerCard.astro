---
export interface Props {
  manufacturer: {
    id: string;
    name: string;
    city?: string;
    state?: string;
    logoUrl?: string;
    categories: string[];
    capabilities?: string[];
  };
}

const { manufacturer } = Astro.props;
---

<article class="card manufacturer-card">
  {manufacturer.logoUrl && (
    <img 
      src={manufacturer.logoUrl} 
      alt={manufacturer.name}
      class="manufacturer-logo"
      loading="lazy"
      width="160"
      height="100"
    />
  )}
  <div class="manufacturer-info">
    <h3>
      <a href={`/catalog/manufacturer/${manufacturer.id}/`}>{manufacturer.name}</a>
    </h3>
    {manufacturer.city && manufacturer.state && (
      <p class="location">{manufacturer.city}, {manufacturer.state}</p>
    )}
    <p class="categories">Categories: {manufacturer.categories.join(', ')}</p>
    {manufacturer.capabilities && (
      <p class="capabilities">Capabilities: {manufacturer.capabilities.join(', ')}</p>
    )}
    <div class="actions">
      <a href={`/catalog/manufacturer/${manufacturer.id}/`} class="btn">
        View Details
      </a>
      <a href={`/rfq/submit?mfg=${manufacturer.id}`} class="btn btn-primary">
        Submit RFQ
      </a>
    </div>
  </div>
</article>

<style>
  .manufacturer-card {
    display: flex;
    align-items: flex-start;
    gap: 1.5rem;
    padding: 1.5rem;
  }
  
  .manufacturer-logo {
    flex-shrink: 0;
    border-radius: 8px;
    background: #f8f9fa;
  }
  
  .manufacturer-info {
    flex: 1;
  }
  
  .manufacturer-info h3 {
    margin-bottom: 0.5rem;
  }
  
  .manufacturer-info h3 a {
    color: #2c3e50;
    text-decoration: none;
  }
  
  .manufacturer-info h3 a:hover {
    color: #3498db;
  }
  
  .location {
    color: #7f8c8d;
    margin-bottom: 0.5rem;
  }
  
  .categories {
    color: #34495e;
    font-weight: 500;
    margin-bottom: 0.5rem;
  }
  
  .capabilities {
    color: #3498db;
    font-size: 0.9rem;
    margin-bottom: 1rem;
  }
  
  .actions {
    display: flex;
    gap: 0.5rem;
    flex-wrap: wrap;
  }
  
  @media (max-width: 768px) {
    .manufacturer-card {
      flex-direction: column;
      text-align: center;
    }
    
    .manufacturer-logo {
      align-self: center;
    }
  }
</style>